(function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],d=0,u=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&u.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);m&&m(t);while(u.length)u.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,s=1;s<a.length;s++){var c=a[s];0!==o[c]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},o={app:0},n=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var m=c;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0215":function(e,t,a){},"034f":function(e,t,a){"use strict";a("85ec")},"23be":function(e,t,a){"use strict";a("f253")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container"},[a("router-view")],1)])},n=[],i=(a("034f"),a("2877")),s={},c=Object(i["a"])(s,o,n,!1,null,null,null),l=c.exports,m=a("9483");Object(m["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var d=a("8c4f"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-login"},[e._m(0),a("div",{staticClass:"form"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",placeholder:"Digite seu email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Digite sua senha"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),a("button",{on:{click:function(t){return e.logar()}}},[e._v("Acessar")]),a("div",{staticClass:"message-error"},[e._v(e._s(e.message))])])])},h=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"logo"},[r("img",{attrs:{src:a("cf05"),alt:"logo"}})])}],v=(a("caad"),a("2532"),a("96cf"),a("1da1")),p=a("bc3a"),g=a.n(p),f=localStorage.getItem("token"),k=g.a.create({baseURL:"https://km-amb-backend.herokuapp.com",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f)}}),w=k,S={data:function(){return{email:"",password:"",message:""}},methods:{logar:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return localStorage.setItem("token",""),localStorage.setItem("currentUser",""),t.next=4,w.post("/user/auth",{email:e.email,password:e.password});case 4:if(a=t.sent,r=a.data.user,!r.error){t.next=9;break}return e.message=r.error,t.abrupt("return",console.log(r.error));case 9:if(!r.user){t.next=16;break}return o=r.user,localStorage.setItem("token",r.token),localStorage.setItem("currentUser",JSON.stringify({id:o._id,nome:o.nome,cnh:o.cnh,vencimentoCnh:o.vencimentoCnh,matricula:o.matricula,roles:o.roles})),o.roles.includes("admin")&&(localStorage.setItem("token",r.token),localStorage.setItem("currentUser",JSON.stringify({id:o._id,nome:o.nome,cnh:o.cnh,vencimentoCnh:o.vencimentoCnh,matricula:o.matricula,roles:o.roles})),e.$router.push("/admin")),o.roles.includes("user")&&(localStorage.setItem("token",r.token),localStorage.setItem("currentUser",JSON.stringify({id:o._id,nome:o.nome,cnh:o.cnh,vencimentoCnh:o.vencimentoCnh,matricula:o.matricula,roles:o.roles})),e.$router.push("/home")),t.abrupt("return",console.log(r));case 16:case"end":return t.stop()}}),t)})))()}}},_=S,b=(a("dd1e"),Object(i["a"])(_,u,h,!1,null,"3c6c4955",null)),x=b.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" Register ")])},E=[],P={},F=Object(i["a"])(P,C,E,!1,null,"da86f20a",null),N=F.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("navigation"),a("div",{staticClass:"container-registro-lancamento"},[e._m(0),a("hr"),a("div",{staticClass:"form-veiculo"},[a("div",[a("label",{attrs:{for:"prefixo"}},[e._v("Prefixo")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.prefixo,expression:"prefixo"}],attrs:{id:"prefixo",type:"tel",placeholder:"Prefixo"},domProps:{value:e.prefixo},on:{keyup:function(t){return e.setDataLocal("prefixo","prefixo")},input:function(t){t.target.composing||(e.prefixo=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"kmEntrada"}},[e._v("Entrada")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.kmEntrada,expression:"kmEntrada"}],attrs:{id:"kmEntrada",type:"tel",placeholder:"KM Inícial"},domProps:{value:e.kmEntrada},on:{keyup:function(t){return e.setDataLocal("kmEntrada")},input:function(t){t.target.composing||(e.kmEntrada=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"kmSaida"}},[e._v("Saída")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.kmSaida,expression:"kmSaida"}],attrs:{id:"kmSaida",type:"tel",placeholder:"KM final"},domProps:{value:e.kmSaida},on:{keyup:function(t){return e.setDataLocal("kmSaida")},input:function(t){t.target.composing||(e.kmSaida=t.target.value)}}})])]),a("hr"),a("div",{staticClass:"check-in"},[a("div",[a("label",{attrs:{for:"perSaida"}},[e._v("Percurso Saída")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.hPerSaida,expression:"hPerSaida"}],attrs:{id:"perSaida",type:"time",placeholder:"time"},domProps:{value:e.hPerSaida},on:{keyup:function(t){return e.setDataLocal("hPerSaida")},input:function(t){t.target.composing||(e.hPerSaida=t.target.value)}}}),a("button",{on:{click:function(t){return e.setTimeAt("hPerSaida")}}},[e._v("H")])])]),a("div",[a("label",{attrs:{for:"carregamento"}},[e._v("Carregamento")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.hCarregamento,expression:"hCarregamento"}],attrs:{id:"carregamento",type:"time",placeholder:"time"},domProps:{value:e.hCarregamento},on:{keyup:function(t){return e.setDataLocal("hCarregamento")},input:function(t){t.target.composing||(e.hCarregamento=t.target.value)}}}),a("button",{on:{click:function(t){return e.setTimeAt("hCarregamento")}}},[e._v("H")])])]),a("div",[a("label",{attrs:{for:"fechamentoNf"}},[e._v("Fechamento NF")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.hFechamentoNF,expression:"hFechamentoNF"}],attrs:{id:"fechamentoNf",type:"time",placeholder:"time"},domProps:{value:e.hFechamentoNF},on:{keyup:function(t){return e.setDataLocal("hFechamentoNF")},input:function(t){t.target.composing||(e.hFechamentoNF=t.target.value)}}}),a("button",{on:{click:function(t){return e.setTimeAt("hFechamentoNF")}}},[e._v("H")])])])]),a("hr"),a("div",{staticClass:"check-in"},[a("div",[a("label",{attrs:{for:"perVolta"}},[e._v("Percurso Volta")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.hPerVolta,expression:"hPerVolta"}],attrs:{id:"perVolta",type:"time",placeholder:"time"},domProps:{value:e.hPerVolta},on:{keyup:function(t){return e.setDataLocal("hPerVolta")},input:function(t){t.target.composing||(e.hPerVolta=t.target.value)}}}),a("button",{on:{click:function(t){return e.setTimeAt("hPerVolta")}}},[e._v("H")])])]),a("div",[a("label",{attrs:{for:"descarregamento"}},[e._v("Descarregamento")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.hDescarregamento,expression:"hDescarregamento"}],attrs:{id:"descarregamento",type:"time",placeholder:"time"},domProps:{value:e.hDescarregamento},on:{keyup:function(t){return e.setDataLocal("hDescarregamento")},input:function(t){t.target.composing||(e.hDescarregamento=t.target.value)}}}),a("button",{on:{click:function(t){return e.setTimeAt("hDescarregamento")}}},[e._v("H")])])]),a("div",[a("label",{attrs:{for:"fechamentoTicket"}},[e._v("Fechamento Ticket")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.hFechamentoTicket,expression:"hFechamentoTicket"}],attrs:{id:"fechamentoTicket",type:"time",placeholder:"time"},domProps:{value:e.hFechamentoTicket},on:{keyup:function(t){return e.setDataLocal("hFechamentoTicket")},input:function(t){t.target.composing||(e.hFechamentoTicket=t.target.value)}}}),a("button",{on:{click:function(t){return e.setTimeAt("hFechamentoTicket")}}},[e._v("H")])])])]),a("div",{staticClass:"check-in"},[a("span",[e._v(e._s(e.mensagemSucesso))])]),a("div",{staticClass:"check-in"},[a("button",{on:{click:function(t){return e.save()}}},[e._v("Emitir")])])])],1)},D=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",{staticClass:"title"},[e._v("Controle de Serviços")])])}],T=(a("4160"),a("0d03"),a("159b"),a("4795"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"container-nav"},[r("router-link",{staticClass:"nav-link-logo",attrs:{"active-class":"nav-link-logo-active",to:"/",exact:""}},[r("img",{attrs:{src:a("cf05"),alt:"logo"}})]),r("div",[r("div",{staticClass:"info-user"},[r("span",[e._v(e._s(e.user.nome))])])])],1)}),A=[],M={data:function(){return{user:[]}},created:function(){this.user=JSON.parse(localStorage.getItem("currentUser"))}},V=M,R=(a("b1a1"),Object(i["a"])(V,T,A,!1,null,"7d76c45c",null)),O=R.exports,H=a("4dec"),j=new H["a"]("kmAmb");j.version(1).stores({controleServico:"++id,nome,cnh,matricula,prefixo,kmEntrada,kmSaida,hPerSaida,hCarregamento,hFechamentoNF,hPerVolta,hDescarregamento,hFechamentoTicket"});var U=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j.controleServico.add(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j.controleServico.toArray();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",j.controleServico.clear());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=JSON.parse(localStorage.getItem("currentUser")),$={components:{navigation:O},data:function(){return{prefixo:"",kmEntrada:"",kmSaida:"",hPerSaida:"",hCarregamento:"",hFechamentoNF:"",hPerVolta:"",hDescarregamento:"",hFechamentoTicket:"",mensagemSucesso:""}},created:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.getDataLocal(),!navigator.onLine){t.next=6;break}return t.next=4,e.syncMongoDb();case 4:t.next=7;break;case 6:console.log("offline");case 7:window.addEventListener("online",Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.syncMongoDb();case 2:case"end":return t.stop()}}),t)}))));case 8:case"end":return t.stop()}}),t)})))()},methods:{syncMongoDb:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I();case 2:return a=t.sent,t.next=5,e.saveMongo(a);case 5:case"end":return t.stop()}}),t)})))()},saveMongo:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.forEach(function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w.post("/controlKM",{hrEmitido:t.hrEmitido,dtEmitido:t.dtEmitido,motorista:{id:K._id,nome:K.nome,cnh:K.cnh,matricula:K.matricula},prefixo:t.prefixo,kmEntrada:t.kmEntrada,kmSaida:t.kmSaida,hPerSaida:t.hPerSaida,hCarregamento:t.hCarregamento,hFechamentoNF:t.hFechamentoNF,hPerVolta:t.hPerVolta,hDescarregamento:t.hDescarregamento,hFechamentoTicket:t.hFechamentoTicket});case 2:return e.sent,e.next=5,L();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!navigator.onLine){t.next=8;break}return t.next=3,w.post("/controlKM",{hrEmitido:(new Date).toLocaleTimeString("pt-br"),dtEmitido:(new Date).toLocaleDateString("pt-br"),motorista:{id:K.id,nome:K.nome,cnh:K.cnh,matricula:K.matricula},prefixo:e.prefixo,kmEntrada:e.kmEntrada,kmSaida:e.kmSaida,hPerSaida:e.hPerSaida,hCarregamento:e.hCarregamento,hFechamentoNF:e.hFechamentoNF,hPerVolta:e.hPerVolta,hDescarregamento:e.hDescarregamento,hFechamentoTicket:e.hFechamentoTicket});case 3:t.sent,e.wiewMessagem("Enviado com sucesso!!!"),e.clearDataLocal(),t.next=13;break;case 8:return console.log("offline"),t.next=11,U({hrEmitido:(new Date).toLocaleTimeString("pt-br"),dtEmitido:(new Date).toLocaleDateString("pt-br"),id:K.id,nome:K.nome,cnh:K.cnh,matricula:K.matricula,dataRegistro:K.dataRegistro,prefixo:e.prefixo,kmEntrada:e.kmEntrada,kmSaida:e.kmSaida,hPerSaida:e.hPerSaida,hCarregamento:e.hCarregamento,hFechamentoNF:e.hFechamentoNF,hPerVolta:e.hPerVolta,hDescarregamento:e.hDescarregamento,hFechamentoTicket:e.hFechamentoTicket});case 11:e.clearDataLocal(),e.wiewMessagem("Enviado com sucesso!!!");case 13:case"end":return t.stop()}}),t)})))()},wiewMessagem:function(e){var t=this;this.mensagemSucesso=e,setTimeout((function(){t.mensagemSucesso=""}),3e3)},getDataLocal:function(){this.prefixo=localStorage.getItem("prefixo"),this.kmEntrada=localStorage.getItem("kmEntrada"),this.kmSaida=localStorage.getItem("kmSaida"),this.hPerSaida=localStorage.getItem("hPerSaida"),this.hCarregamento=localStorage.getItem("hCarregamento"),this.hFechamentoNF=localStorage.getItem("hFechamentoNF"),this.hPerVolta=localStorage.getItem("hPerVolta"),this.hDescarregamento=localStorage.getItem("hDescarregamento"),this.hFechamentoTicket=localStorage.getItem("hFechamentoTicket")},clearDataLocal:function(){this.prefixo="",localStorage.setItem("prefixo",""),this.kmEntrada="",localStorage.setItem("kmEntrada",""),this.kmSaida="",localStorage.setItem("kmSaida",""),this.hPerSaida="",localStorage.setItem("hPerSaida",""),this.hCarregamento="",localStorage.setItem("hCarregamento",""),this.hFechamentoNF="",localStorage.setItem("hFechamentoNF",""),this.hPerVolta="",localStorage.setItem("hPerVolta",""),this.hDescarregamento="",localStorage.setItem("hDescarregamento",""),this.hFechamentoTicket="",localStorage.setItem("hFechamentoTicket","")},setDataLocal:function(e){"prefixo"===e&&localStorage.setItem(e,this.prefixo),"kmEntrada"===e&&localStorage.setItem(e,this.kmEntrada),"kmSaida"===e&&localStorage.setItem(e,this.kmSaida)},setTimeAt:function(e){var t=(new Date).toLocaleTimeString("pt-br");"hPerSaida"===e&&(this.hPerSaida=t,localStorage.setItem(e,this.hPerSaida)),"hCarregamento"===e&&(this.hCarregamento=t,localStorage.setItem(e,this.hCarregamento)),"hFechamentoNF"===e&&(this.hFechamentoNF=t,localStorage.setItem(e,this.hFechamentoNF)),"hPerVolta"===e&&(this.hPerVolta=t,localStorage.setItem(e,this.hPerVolta)),"hDescarregamento"===e&&(this.hDescarregamento=t,localStorage.setItem(e,this.hDescarregamento)),"hFechamentoTicket"===e&&(this.hFechamentoTicket=t,localStorage.setItem(e,this.hFechamentoTicket))}}},J=$,q=(a("cc43"),Object(i["a"])(J,y,D,!1,null,"7d391c70",null)),z=q.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Admin"},[a("navigation"),a("div",{staticClass:"container-admin"},[a("aside",{staticClass:"aside"},[a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item",on:{click:e.activeList}},[e._v("Últimos Serviços")]),a("li",{staticClass:"list-group-item",on:{click:e.activeUsers}},[e._v("Usuários")])])]),a("section",{staticClass:"section"},[e.wiewList?a("Lista"):e._e(),e.wiewUsers?a("Users"):e._e()],1)])],1)},G=[],Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lista"},[a("div",{staticClass:"header-lista"},[a("div",{staticClass:"nameComponent"},[e._v("Lista de Serviços")]),a("div",{staticClass:"controllers"},[a("div",{staticClass:"pesquisa"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"search",placeholder:"Faça uma pesquisa"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),a("button",{on:{click:function(t){return e.buscar()}}},[a("font-awesome-icon",{attrs:{icon:"search"}})],1)])])]),a("div",{staticClass:"lista-content"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[e._v("Motorista")]),a("th",[e._v("Prefixo")]),a("th",[e._v("Data")]),a("th",[e._v("Emitido ás")]),a("th",[e._v("KM entrada")]),a("th",[e._v("KM Saída")]),a("th",[e._v("KM Rodado")]),a("th",[a("button",{staticClass:"btn",on:{click:function(t){return e.showAddUser()}}},[a("font-awesome-icon",{attrs:{icon:"plus"}})],1)])])]),e._l(e.list,(function(t){return a("tbody",{key:t._id},[a("tr",[a("td",[e._v(e._s(t.motorista.nome))]),a("td",[e._v(e._s(t.prefixo))]),a("td",[e._v(e._s(t.dtEmitido))]),a("td",[e._v(e._s(t.hrEmitido))]),a("td",[e._v(e._s(t.kmEntrada))]),a("td",[e._v(e._s(t.kmSaida))]),a("td",[e._v(e._s(t.kmSaida-t.kmEntrada)+" km")]),a("td",[a("button",{staticClass:"btn",on:{click:function(a){return e.setServiceAsUpdate(t)}}},[a("font-awesome-icon",{attrs:{icon:"edit"}})],1)])])])}))],2)]),e.showModal?a("div",{staticClass:"modal"},[a("div",{staticClass:"header-model"},[a("h1",[e._v("Editar serviço")]),a("div",[a("span",[e._v(e._s(e.serviceEdit._id))]),a("font-awesome-icon",{attrs:{icon:"times"},on:{click:function(t){return e.closeModal()}}})],1)]),a("div",{staticClass:"modal-form"},[a("div",{staticClass:"info-moto"},[a("div",{staticClass:"dados"},[a("span",[e._v("Nome: "+e._s(e.serviceEdit.motorista.nome))]),a("span",[e._v("Matricula: "+e._s(e.serviceEdit.motorista.matricula))]),a("div",{staticClass:"dados-cnh"},[a("span",[e._v("CNH: "+e._s(e.serviceEdit.motorista.cnh))]),a("span",{staticClass:"venc-cnh"},[e._v("Vencimento "+e._s(e.serviceEdit.motorista.vencimentoCnh))])])])]),a("div",[a("label",{attrs:{for:"prefixo"}},[e._v("Prefixo")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.prefixo,expression:"prefixo"}],attrs:{id:"prefixo",type:"text",placeholder:"Prefixo"},domProps:{value:e.prefixo},on:{input:function(t){t.target.composing||(e.prefixo=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"dtEmitido"}},[e._v("Data da Emissão")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dtEmitido,expression:"dtEmitido"}],staticClass:"disabled",attrs:{disabled:"",id:"dtEmitido",type:"text",placeholder:"data da Emissão"},domProps:{value:e.dtEmitido},on:{input:function(t){t.target.composing||(e.dtEmitido=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"hrEmitido"}},[e._v("Hora da Emissão")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.hrEmitido,expression:"hrEmitido"}],staticClass:"disabled",attrs:{disabled:"",id:"hrEmitido",type:"time",placeholder:"Hora da Emissão"},domProps:{value:e.hrEmitido},on:{input:function(t){t.target.composing||(e.hrEmitido=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"kmEntrada"}},[e._v("KM Entrada")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.kmEntrada,expression:"kmEntrada"}],attrs:{id:"kmEntrada",type:"tel",placeholder:"KM Entrada"},domProps:{value:e.kmEntrada},on:{input:function(t){t.target.composing||(e.kmEntrada=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"kmSaida"}},[e._v("KM Saída")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.kmSaida,expression:"kmSaida"}],attrs:{id:"kmSaida",type:"tel",placeholder:"KM Saída"},domProps:{value:e.kmSaida},on:{input:function(t){t.target.composing||(e.kmSaida=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"hPerSaida"}},[e._v("Horário Percurso Saida")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.hPerSaida,expression:"hPerSaida"}],attrs:{id:"hPerSaida",type:"time",placeholder:"Horário Percurso Saida"},domProps:{value:e.hPerSaida},on:{input:function(t){t.target.composing||(e.hPerSaida=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"hCarregamento"}},[e._v("Horário Carregamento")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.hCarregamento,expression:"hCarregamento"}],attrs:{id:"hCarregamento",type:"time",placeholder:"Horário Carregamento"},domProps:{value:e.hCarregamento},on:{input:function(t){t.target.composing||(e.hCarregamento=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"hFechamentoNF"}},[e._v("Horário Fechamento Nota Fiscal")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.hFechamentoNF,expression:"hFechamentoNF"}],attrs:{id:"hFechamentoNF",type:"time",placeholder:"Horário Fechamento Nota Fiscal"},domProps:{value:e.hFechamentoNF},on:{input:function(t){t.target.composing||(e.hFechamentoNF=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"hPerVolta"}},[e._v("Horário Percurso Volta")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.hPerVolta,expression:"hPerVolta"}],attrs:{id:"hPerVolta",type:"time",placeholder:"Horário Percurso Saida"},domProps:{value:e.hPerVolta},on:{input:function(t){t.target.composing||(e.hPerVolta=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"hDescarregamento"}},[e._v("Horário Descarregamento")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.hDescarregamento,expression:"hDescarregamento"}],attrs:{id:"hDescarregamento",type:"time",placeholder:"Horário Descarregamento"},domProps:{value:e.hDescarregamento},on:{input:function(t){t.target.composing||(e.hDescarregamento=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"hFechamentoTicket"}},[e._v("Horário Fechamento Ticket")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.hFechamentoTicket,expression:"hFechamentoTicket"}],attrs:{id:"hFechamentoTicket",type:"time",placeholder:"Horário Fechamento Ticket"},domProps:{value:e.hFechamentoTicket},on:{input:function(t){t.target.composing||(e.hFechamentoTicket=t.target.value)}}})])]),a("div",{staticClass:"modal-buttons"},[a("button",{staticClass:"bg-danger",on:{click:function(t){return e.deleteService(e.serviceEdit._id)}}},[e._v(" Deletar ")]),a("div",{staticClass:"info-create-at"},[e._v("Serviço")]),a("button",{on:{click:function(t){return e.updateService(e.serviceEdit._id)}}},[e._v("Atualizar")])])]):e._e(),e.showModalAdd?a("div",{staticClass:"modal"},[a("div",{staticClass:"header-model"},[a("h1",[e._v("Editar serviço")]),a("div",[a("span",[e._v("Novo registro")]),a("font-awesome-icon",{attrs:{icon:"times"},on:{click:function(t){return e.closeModalAdd()}}})],1)]),a("div",{staticClass:"modal-form"},[a("div",[a("label",{attrs:{for:"prefixo"}},[e._v("Prefixo")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.prefixo,expression:"prefixo"}],attrs:{id:"prefixo",type:"text",placeholder:"Prefixo"},domProps:{value:e.prefixo},on:{input:function(t){t.target.composing||(e.prefixo=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"dtEmitido"}},[e._v("Data da Emissão")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dtEmitido,expression:"dtEmitido"}],staticClass:"disabled",attrs:{disabled:"",id:"dtEmitido",type:"text",placeholder:"data da Emissão"},domProps:{value:e.dtEmitido},on:{input:function(t){t.target.composing||(e.dtEmitido=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"hrEmitido"}},[e._v("Hora da Emissão")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.hrEmitido,expression:"hrEmitido"}],staticClass:"disabled",attrs:{disabled:"",id:"hrEmitido",type:"time",placeholder:"Hora da Emissão"},domProps:{value:e.hrEmitido},on:{input:function(t){t.target.composing||(e.hrEmitido=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"kmEntrada"}},[e._v("KM Entrada")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.kmEntrada,expression:"kmEntrada"}],attrs:{id:"kmEntrada",type:"tel",placeholder:"KM Entrada"},domProps:{value:e.kmEntrada},on:{input:function(t){t.target.composing||(e.kmEntrada=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"kmSaida"}},[e._v("KM Saída")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.kmSaida,expression:"kmSaida"}],attrs:{id:"kmSaida",type:"tel",placeholder:"KM Saída"},domProps:{value:e.kmSaida},on:{input:function(t){t.target.composing||(e.kmSaida=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"hPerSaida"}},[e._v("Horário Percurso Saida")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.hPerSaida,expression:"hPerSaida"}],attrs:{id:"hPerSaida",type:"time",placeholder:"Horário Percurso Saida"},domProps:{value:e.hPerSaida},on:{input:function(t){t.target.composing||(e.hPerSaida=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"hCarregamento"}},[e._v("Horário Carregamento")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.hCarregamento,expression:"hCarregamento"}],attrs:{id:"hCarregamento",type:"time",placeholder:"Horário Carregamento"},domProps:{value:e.hCarregamento},on:{input:function(t){t.target.composing||(e.hCarregamento=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"hFechamentoNF"}},[e._v("Horário Fechamento Nota Fiscal")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.hFechamentoNF,expression:"hFechamentoNF"}],attrs:{id:"hFechamentoNF",type:"time",placeholder:"Horário Fechamento Nota Fiscal"},domProps:{value:e.hFechamentoNF},on:{input:function(t){t.target.composing||(e.hFechamentoNF=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"hPerVolta"}},[e._v("Horário Percurso Volta")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.hPerVolta,expression:"hPerVolta"}],attrs:{id:"hPerVolta",type:"time",placeholder:"Horário Percurso Saida"},domProps:{value:e.hPerVolta},on:{input:function(t){t.target.composing||(e.hPerVolta=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"hDescarregamento"}},[e._v("Horário Descarregamento")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.hDescarregamento,expression:"hDescarregamento"}],attrs:{id:"hDescarregamento",type:"time",placeholder:"Horário Descarregamento"},domProps:{value:e.hDescarregamento},on:{input:function(t){t.target.composing||(e.hDescarregamento=t.target.value)}}})]),a("div",[a("label",{attrs:{for:"hFechamentoTicket"}},[e._v("Horário Fechamento Ticket")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.hFechamentoTicket,expression:"hFechamentoTicket"}],attrs:{id:"hFechamentoTicket",type:"time",placeholder:"Horário Fechamento Ticket"},domProps:{value:e.hFechamentoTicket},on:{input:function(t){t.target.composing||(e.hFechamentoTicket=t.target.value)}}})])]),a("div",{staticClass:"modal-buttons"},[a("div",{staticClass:"info-create-at"},[e._v("Serviço")]),a("button",{on:{click:function(t){return e.registerService()}}},[e._v("Registrar")])])]):e._e()])},W=[],X=(a("26e9"),a("ac1f"),a("841c"),JSON.parse(localStorage.getItem("currentUser"))),Y={data:function(){return{list:[],search:"",showModal:!1,showModalAdd:!1,serviceEdit:{},hrEmitido:"",dtEmitido:"",prefixo:"",kmEntrada:"",kmSaida:"",hPerSaida:"",hCarregamento:"",hFechamentoNF:"",hPerVolta:"",hDescarregamento:"",hFechamentoTicket:""}},created:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAllServices();case 2:e.list=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{getAllServices:function(){return Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,w.get("/controlKM",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.abrupt("return",a.data.services.reverse());case 5:case"end":return e.stop()}}),e)})))()},registerService:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w.post("/controlKM",{hrEmitido:(new Date).toLocaleTimeString("pt-br"),dtEmitido:(new Date).toLocaleDateString("pt-br"),motorista:{id:X.id,nome:X.nome,cnh:X.cnh,matricula:X.matricula},prefixo:e.prefixo,kmEntrada:e.kmEntrada,kmSaida:e.kmSaida,hPerSaida:e.hPerSaida,hCarregamento:e.hCarregamento,hFechamentoNF:e.hFechamentoNF,hPerVolta:e.hPerVolta,hDescarregamento:e.hDescarregamento,hFechamentoTicket:e.hFechamentoTicket});case 2:return t.sent,e.closeModalAdd(),t.next=6,e.getAllServices();case 6:e.list=t.sent;case 7:case"end":return t.stop()}}),t)})))()},deleteService:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,w["delete"]("/controlKM/delete/".concat(e));case 2:return a.sent,a.next=5,t.getAllServices();case 5:return t.list=a.sent,t.closeModal(),a.abrupt("return");case 8:case"end":return a.stop()}}),a)})))()},buscar:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.search,r=/\d{2}\/\d{2}\/\d{4}/,r.test(a)&&console.log("entrou"),console.log("buscar");case 4:case"end":return t.stop()}}),t)})))()},updateService:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return new Array(t.roles),a.next=3,w.put("/controlKM/update/".concat(e),{hrEmitido:t.hrEmitido,dtEmitido:t.dtEmitido,prefixo:t.prefixo,kmEntrada:t.kmEntrada,kmSaida:t.kmSaida,hPerSaida:t.hPerSaida,hCarregamento:t.hCarregamento,hFechamentoNF:t.hFechamentoNF,hPerVolta:t.hPerVolta,hDescarregamento:t.hDescarregamento,hFechamentoTicket:t.hFechamentoTicket});case 3:return a.sent,t.closeModal(),a.next=7,t.getAllServices();case 7:t.list=a.sent;case 8:case"end":return a.stop()}}),a)})))()},setServiceAsUpdate:function(e){this.closeModal(),this.showModal=!0,this.serviceEdit=e,this.hrEmitido=this.serviceEdit.hrEmitido,this.dtEmitido=this.serviceEdit.dtEmitido,this.prefixo=this.serviceEdit.prefixo,this.kmEntrada=this.serviceEdit.kmEntrada,this.kmSaida=this.serviceEdit.kmSaida,this.hPerSaida=this.serviceEdit.hPerSaida,this.hCarregamento=this.serviceEdit.hCarregamento,this.hFechamentoNF=this.serviceEdit.hFechamentoNF,this.hPerVolta=this.serviceEdit.hPerVolta,this.hDescarregamento=this.serviceEdit.hDescarregamento,this.hFechamentoTicket=this.serviceEdit.hFechamentoTicket},closeModal:function(){this.showModal=!1,this.userEdit={},this.hrEmitido="",this.dtEmitido="",this.prefixo="",this.kmEntrada="",this.kmSaida="",this.hPerSaida="",this.hCarregamento="",this.hFechamentoNF="",this.hPerVolta="",this.hDescarregamento="",this.hFechamentoTicket=""},showAddUser:function(){this.hrEmitido=(new Date).toLocaleTimeString("pt-br"),this.dtEmitido=(new Date).toLocaleDateString("pt-br"),this.showModalAdd=!0},closeModalAdd:function(){this.showModalAdd=!1,this.hrEmitido="",this.dtEmitido="",this.prefixo="",this.kmEntrada="",this.kmSaida="",this.hPerSaida="",this.hCarregamento="",this.hFechamentoNF="",this.hPerVolta="",this.hDescarregamento="",this.hFechamentoTicket=""}}},Z=Y,ee=(a("d5b1"),Object(i["a"])(Z,Q,W,!1,null,"d88abf88",null)),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"users"},[a("div",{staticClass:"header-lista"},[a("div",{staticClass:"nameComponent"},[e._v("Usúarios do Sistema")]),a("div",{staticClass:"controllers"},[a("div",{staticClass:"pesquisa"},[a("input",{attrs:{type:"search",placeholder:"Faça uma pesquisa"}}),a("button",[a("font-awesome-icon",{attrs:{icon:"search"}})],1)])])]),a("div",{staticClass:"lista-content"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[e._v("Nome")]),a("th",[e._v("CNH")]),a("th",[e._v("Vencimento CNH")]),a("th",[e._v("Matrícula")]),a("th",[e._v("Email")]),a("th",[e._v("Permição")]),a("th",[a("button",{staticClass:"btn"},[a("font-awesome-icon",{attrs:{icon:"plus"},on:{click:function(t){return e.showAddUser()}}})],1)])])]),e._l(e.list,(function(t){return a("tbody",{key:t._id},[a("tr",[a("td",[e._v(e._s(t.nome))]),a("td",[e._v(e._s(t.cnh))]),a("td",[e._v(e._s(t.vencimentoCnh))]),a("td",[e._v(e._s(t.matricula))]),a("td",[e._v(e._s(t.email))]),a("td",[e._v(" "+e._s("admin"===t.roles[0]?"Adiministrador":"Usuário")+" ")]),a("td",[a("button",{staticClass:"btn",on:{click:function(a){return e.setUserAsUpdate(t)}}},[a("font-awesome-icon",{attrs:{icon:"edit"}})],1)])])])}))],2)]),e.showModal?a("div",{staticClass:"modal"},[a("div",{staticClass:"header-model"},[a("h1",[e._v("Editar usuário")]),a("div",[a("span",[e._v(e._s(e.userEdit._id))]),a("font-awesome-icon",{attrs:{icon:"times"},on:{click:function(t){return e.closeModal()}}})],1)]),a("div",{staticClass:"modal-form"},[a("label",{attrs:{for:"nome"}},[e._v("Nome")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nome,expression:"nome"}],attrs:{id:"nome",type:"text",placeholder:"Nome"},domProps:{value:e.nome},on:{input:function(t){t.target.composing||(e.nome=t.target.value)}}}),a("label",{attrs:{for:"cnh"}},[e._v("CNH")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cnh,expression:"cnh"}],attrs:{id:"cnh",type:"text",placeholder:"CNH"},domProps:{value:e.cnh},on:{input:function(t){t.target.composing||(e.cnh=t.target.value)}}}),a("label",{attrs:{for:"vencimentoCnh"}},[e._v("Vencimento CNH")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.vencimentoCnh,expression:"vencimentoCnh"}],attrs:{id:"vencimentoCnh",type:"text",placeholder:"Vencimento CNH"},domProps:{value:e.vencimentoCnh},on:{input:function(t){t.target.composing||(e.vencimentoCnh=t.target.value)}}}),a("label",{attrs:{for:"matricula"}},[e._v("Matrícula")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.matricula,expression:"matricula"}],attrs:{id:"matricula",type:"text",placeholder:"Matrícula"},domProps:{value:e.matricula},on:{input:function(t){t.target.composing||(e.matricula=t.target.value)}}}),a("label",{attrs:{for:"email"}},[e._v("E-mail")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{id:"email",type:"email",placeholder:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("label",{attrs:{for:"roles"}},[e._v("Permição")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.roles,expression:"roles"}],attrs:{name:"roles",id:"roles"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.roles=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"user"}},[e._v("Usuário")]),a("option",{attrs:{value:"admin"}},[e._v("Adiministrador")])])]),a("div",{staticClass:"modal-buttons"},[a("button",{staticClass:"bg-danger",on:{click:function(t){return e.deleteUser(e.userEdit._id)}}},[e._v(" Deletar ")]),a("div",{staticClass:"info-create-at"},[e._v(" Usuário criado no "+e._s(e.createDateAt)+" Ás "+e._s(e.createTimeAt)+" ")]),a("button",{on:{click:function(t){return e.updateUser(e.userEdit._id)}}},[e._v("Atualizar")])])]):e._e(),e.showModalAdd?a("div",{staticClass:"modal"},[a("div",{staticClass:"header-model"},[a("h1",[e._v("Criar novo usuário")]),a("div",[a("span",[e._v(e._s(e.userEdit._id))]),a("font-awesome-icon",{attrs:{icon:"times"},on:{click:function(t){return e.closeModalAdd()}}})],1)]),a("div",{staticClass:"modal-form"},[a("label",{attrs:{for:"nome"}},[e._v("Nome")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nome,expression:"nome"}],attrs:{id:"nome",type:"text",placeholder:"Nome"},domProps:{value:e.nome},on:{input:function(t){t.target.composing||(e.nome=t.target.value)}}}),a("label",{attrs:{for:"cnh"}},[e._v("CNH")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cnh,expression:"cnh"}],attrs:{id:"cnh",type:"text",placeholder:"CNH"},domProps:{value:e.cnh},on:{input:function(t){t.target.composing||(e.cnh=t.target.value)}}}),a("label",{attrs:{for:"vencimentoCnh"}},[e._v("Vencimento CNH")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.vencimentoCnh,expression:"vencimentoCnh"}],attrs:{id:"vencimentoCnh",type:"text",placeholder:"Vencimento CNH"},domProps:{value:e.vencimentoCnh},on:{input:function(t){t.target.composing||(e.vencimentoCnh=t.target.value)}}}),a("label",{attrs:{for:"matricula"}},[e._v("Matrícula")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.matricula,expression:"matricula"}],attrs:{id:"matricula",type:"text",placeholder:"Matrícula"},domProps:{value:e.matricula},on:{input:function(t){t.target.composing||(e.matricula=t.target.value)}}}),a("label",{attrs:{for:"email"}},[e._v("E-mail")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{id:"email",type:"email",placeholder:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("label",{attrs:{for:"password"}},[e._v("Senha")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",type:"password",placeholder:"Senha"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),a("label",{attrs:{for:"roles"}},[e._v("Permição")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.roles,expression:"roles"}],attrs:{name:"roles",id:"roles"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.roles=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"user"}},[e._v("Usuário")]),a("option",{attrs:{value:"admin"}},[e._v("Adiministrador")])])]),a("div",{staticClass:"modal-buttons"},[a("button",{on:{click:function(t){return e.registerUser()}}},[e._v("Criar usuário")]),e._v(" "+e._s(e.roles)+" ")])]):e._e()])},re=[],oe={data:function(){return{list:[],userEdit:{},showModal:!1,showModalAdd:!1,nome:"",cnh:"",vencimentoCnh:"",matricula:"",email:"",roles:"user",createDateAt:"",createTimeAt:"",password:""}},created:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAllUsers();case 2:e.list=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{getAllUsers:function(){return Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,w.get("/users",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.abrupt("return",a.data.users.reverse());case 5:case"end":return e.stop()}}),e)})))()},deleteUser:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,w["delete"]("/user/delete/".concat(e));case 2:return a.sent,a.next=5,t.getAllUsers();case 5:return t.list=a.sent,t.closeModal(),a.abrupt("return");case 8:case"end":return a.stop()}}),a)})))()},registerUser:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new Array(e.roles),t.next=3,w.post("/user/register",{nome:e.nome,cnh:e.cnh,vencimentoCnh:e.vencimentoCnh,matricula:e.matricula,email:e.email,password:e.password,createDateAt:(new Date).toLocaleDateString("pt-br"),createTimeAt:(new Date).toLocaleTimeString("pt-br"),roles:a});case 3:return t.sent,e.closeModalAdd(),t.next=7,e.getAllUsers();case 7:e.list=t.sent;case 8:case"end":return t.stop()}}),t)})))()},updateUser:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=new Array(t.roles),a.next=3,w.put("/user/update/".concat(e),{nome:t.nome,cnh:t.cnh,vencimentoCnh:t.vencimentoCnh,matricula:t.matricula,email:t.email,roles:r});case 3:return a.sent,t.closeModal(),a.next=7,t.getAllUsers();case 7:t.list=a.sent;case 8:case"end":return a.stop()}}),a)})))()},setUserAsUpdate:function(e){this.showModal=!0,this.userEdit=e,this.nome=this.userEdit.nome,this.cnh=this.userEdit.cnh,this.vencimentoCnh=this.userEdit.vencimentoCnh,this.matricula=this.userEdit.matricula,this.email=this.userEdit.email,this.roles=this.userEdit.roles[0],this.createDateAt=this.userEdit.createDateAt,this.createTimeAt=this.userEdit.createTimeAt},closeModal:function(){this.showModal=!1,this.userEdit={},this.nome="",this.cnh="",this.vencimentoCnh="",this.matricula="",this.email="",this.roles="",this.createDateAt="",this.createTimeAt=""},showAddUser:function(){this.showModalAdd=!0},closeModalAdd:function(){this.showModalAdd=!1,this.nome="",this.cnh="",this.vencimentoCnh="",this.matricula="",this.email="",this.roles="user",this.createDateAt="",this.createTimeAt="",this.password=""}}},ne=oe,ie=(a("23be"),Object(i["a"])(ne,ae,re,!1,null,"0ff609b4",null)),se=ie.exports,ce={components:{navigation:O,Lista:te,Users:se},data:function(){return{wiewList:!0,wiewUsers:!1}},methods:{activeList:function(){this.wiewList=!0,this.wiewUsers=!1},activeUsers:function(){this.wiewList=!1,this.wiewUsers=!0}}},le=ce,me=(a("a78f"),Object(i["a"])(le,B,G,!1,null,"6acfa9a7",null)),de=me.exports;r["a"].use(d["a"]);var ue=[{path:"/",name:"Login",component:x},{path:"/register",name:"Register",component:N},{path:"/home",name:"Home",component:z},{path:"/admin",name:"Admin",component:de}],he=new d["a"]({routes:ue}),ve=he,pe=a("ecee"),ge=a("c074"),fe=a("ad3d");pe["c"].add(ge["c"],ge["b"],ge["a"],ge["e"],ge["d"]),r["a"].component("font-awesome-icon",fe["a"]),r["a"].config.productionTip=!1,new r["a"]({router:ve,render:function(e){return e(l)}}).$mount("#app")},"85ec":function(e,t,a){},"97f4":function(e,t,a){},"9cd1":function(e,t,a){},a78f:function(e,t,a){"use strict";a("9cd1")},b1a1:function(e,t,a){"use strict";a("97f4")},cc43:function(e,t,a){"use strict";a("fa2d")},cf05:function(e,t,a){e.exports=a.p+"img/logo.82a550bf.png"},d5b1:function(e,t,a){"use strict";a("dd90")},dd1e:function(e,t,a){"use strict";a("0215")},dd90:function(e,t,a){},f253:function(e,t,a){},fa2d:function(e,t,a){}});
//# sourceMappingURL=app.114c048a.js.map